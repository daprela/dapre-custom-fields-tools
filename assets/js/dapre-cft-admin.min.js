!function(e){var t={};function o(s){if(t[s])return t[s].exports;var a=t[s]={i:s,l:!1,exports:{}};return e[s].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=t,o.d=function(e,t,s){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:s})},o.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)o.d(s,a,function(t){return e[t]}.bind(null,a));return s},o.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="",o(o.s=0)}([function(e,t){var o;function s(e){return!isNaN(e-0)&&null!==e&&""!==e&&!1!==e}(o=jQuery)((function(){o(document).ready((function(){})),o(".js-submitOptions").on("click",(function(e){o(".js-submitOptions").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_submit_options_fields",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-optionsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){e.success&&(o(".js-optionsMetaSection").empty(),o(".js-optionsMetaSection").append(e.data.html)),o(".js-submitOptions").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-submitRenameOption").on("click",(function(e){o(".js-submitRenameOption").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_rename_option",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-optionsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){e.success&&(e.data.renamed?(o(".js-optionRenameOK").show(),o(".js-optionRenameOK").fadeOut(2e3),document.querySelector(".js-oldOptionName").value="",document.querySelector(".js-newOptionName").value=""):o.colorbox({html:"<h4>".concat(e.data.error,"</h4>"),width:"300px"})),o(".js-submitRenameOption").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-copyOptionTo").on("click",(function(){"option to option"===o("input[type=radio][name=copy_option_to]:checked").val()&&(o(".js-copyOptionToUserField").slideUp("slow"),o(".js-copyOptionToPostField").slideUp("slow"),o(".js-copyOptionToOption").slideDown("slow")),"option to user field"===o("input[type=radio][name=copy_option_to]:checked").val()&&(console.log("option to user field"),o(".js-copyOptionToPostField").slideUp("slow"),o(".js-copyOptionToOption").slideUp("slow"),o(".js-copyOptionToUserField").slideDown("slow")),"option to post field"===o("input[type=radio][name=copy_option_to]:checked").val()&&(o(".js-copyOptionToUserField").slideUp("slow"),o(".js-copyOptionToOption").slideUp("slow"),o(".js-copyOptionToPostField").slideDown("slow"))})),o(".js-submitCopyOption").on("click",(function(e){o(".js-submitCopyOption").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_copy_option",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-optionsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){e.success&&(e.data.copied?(o(".js-optionCopyOK").show(),o(".js-optionCopyOK").fadeOut(2e3),document.querySelector(".js-currentOptionName").value="",document.querySelector(".js-copyOptionToOptionName").value="",document.querySelector(".js-copyOptionToOptionCreate").checked=!1,document.querySelector(".js-optToUserFieldID").value="",document.querySelector(".js-optToUserFieldName").value="",document.querySelector(".js-optToUserFieldCreate").checked=!1,document.querySelector(".js-optToPostFieldID").value="",document.querySelector(".js-optToPostFieldName").value="",document.querySelector(".js-optToPostFieldCreate").checked=!1):o.colorbox({html:"<h4>".concat(e.data.error,"</h4>"),width:"300px"})),o(".js-submitCopyOption").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-submitUserFields").on("click",(function(e){o(".js-submitUserFields").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_submit_user_fields",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-userFieldsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){console.log(e),e.success&&(o(".js-userFieldsSection").empty(),o(".js-userFieldsSection").append(e.data.html)),o(".js-submitUserFields").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-submitRenameUserField").on("click",(function(e){o(".js-submitRenameUserField").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_rename_user_field",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-userFieldsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){e.success&&(e.data.renamed?(o(".user-fields-message-ok").show(),o(".user-fields-message-ok").fadeOut(2e3),document.querySelector(".js-userFieldRenameFieldName").value="",document.querySelector(".js-userFieldRenameUserID").value=0,document.querySelector(".js-newUserFieldName").value=""):o.colorbox({html:"<h4>".concat(e.data.error,"</h4>"),width:"300px"})),o(".js-submitRenameUserField").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-copyUserFieldTo").on("click",(function(){"user field to option"===o("input[type=radio][name=copy_user_field_to]:checked").val()&&(o(".js-copyUserFieldToUserField").slideUp("slow"),o(".js-copyOptionToPostField").slideUp("slow"),o(".js-copyUserFieldToOption").slideDown("slow")),"user field to user field"===o("input[type=radio][name=copy_user_field_to]:checked").val()&&(o(".js-copyUserFieldToOption").slideUp("slow"),o(".js-copyOptionToPostField").slideUp("slow"),o(".js-copyUserFieldToUserField").slideDown("slow")),"user field to post field"===o("input[type=radio][name=copy_user_field_to]:checked").val()&&(o(".js-copyUserFieldToUserField").slideUp("slow"),o(".js-copyUserFieldToOption").slideUp("slow"),o(".js-copyOptionToPostField").slideDown("slow"))})),o(".js-submitCopyUserField").on("click",(function(e){o(".js-submitCopyUserField").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_copy_user_field",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-userFieldsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){e.success&&(e.data.copied?(o(".user-field-copy-ok").show(),o(".user-field-copy-ok").fadeOut(2e3),document.querySelector(".js-userFieldCopyUserID").value="",document.querySelector(".js-userFieldCopyFieldName").value="",document.querySelector(".js-userFieldToOptionName").value="",document.querySelector(".js-userFieldToOptionCreate").checked=!1,document.querySelector(".js-userFieldToUserFieldID").value="",document.querySelector(".js-userFieldToUserFieldName").value="",document.querySelector(".js-userFieldToUserFieldCreate").checked=!1,document.querySelector(".js-userFieldToPostFieldID").value="",document.querySelector(".js-userFieldToPostFieldName").value="",document.querySelector(".js-userFieldToPostFieldCreate").checked=!1):o.colorbox({html:"<h4>".concat(e.data.error,"</h4>"),width:"300px"})),o(".js-submitCopyUserField").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-submitPostFields").on("click",(function(e){o(".js-submitPostFields").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_submit_post_fields",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-postFieldsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){e.success&&(o(".js-postFieldsSection").empty(),o(".js-postFieldsSection").append(e.data.html)),o(".js-submitPostFields").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-submitRenamePostField").on("click",(function(e){o(".js-submitRenamePostField").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_rename_post_field",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-postFieldsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){e.success&&(e.data.renamed?(o(".post-fields-message-ok").show(),o(".post-fields-message-ok").fadeOut(2e3),document.querySelector(".js-postFieldRenameFieldName").value="",document.querySelector(".js-postFieldRenamePostID").value=0,document.querySelector(".js-newPostFieldName").value=""):o.colorbox({html:"<h4>".concat(e.data.error,"</h4>"),width:"300px"})),o(".js-submitRenamePostField").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-copyPostFieldTo").on("click",(function(){"post field to user field"===o("input[type=radio][name=copy_post_field_to]:checked").val()&&(o(".js-copyPostFieldToOption").slideUp("slow"),o(".js-copyOptionToPostField").slideUp("slow"),o(".js-copyPostFieldToUserField").slideDown("slow")),"post field to option"===o("input[type=radio][name=copy_post_field_to]:checked").val()&&(o(".js-copyOptionToPostField").slideUp("slow"),o(".js-copyPostFieldToUserField").slideUp("slow"),o(".js-copyPostFieldToOption").slideDown("slow")),"post field to post field"===o("input[type=radio][name=copy_post_field_to]:checked").val()&&(o(".js-copyPostFieldToUserField").slideUp("slow"),o(".js-copyPostFieldToOption").slideUp("slow"),o(".js-copyOptionToPostField").slideDown("slow"))})),o(".js-submitCopyPostField").on("click",(function(e){o(".js-submitCopyPostField").attr("disabled","disabled"),o(".js-halfCircleSpinner").show(),e.preventDefault();var t={action:"dapre_copy_post_field",dapre_cft_nonce:DapreCftAjax.nonce,data:o(".js-postFieldsForm").serialize()};o.post(DapreCftAjax.ajax_url,t,(function(e){e.success&&(e.data.copied?(o(".post-field-copy-ok").show(),o(".post-field-copy-ok").fadeOut(2e3),document.querySelector(".js-postFieldCopyPostID").value="",document.querySelector(".js-postFieldCopyFieldName").value="",document.querySelector(".js-postFieldToOptionName").value="",document.querySelector(".js-postFieldToOptionCreate").checked=!1,document.querySelector(".js-postFieldToUserFieldID").value="",document.querySelector(".js-postFieldToUserFieldName").value="",document.querySelector(".js-postFieldToUserFieldCreate").checked=!1,document.querySelector(".js-postFieldToPostFieldID").value="",document.querySelector(".js-postFieldToPostFieldName").value="",document.querySelector(".js-postFieldToPostFieldCreate").checked=!1):o.colorbox({html:"<h4>".concat(e.data.error,"</h4>"),width:"300px"})),o(".js-submitCopyPostField").attr("disabled",!1),o(".js-halfCircleSpinner").hide()}))})),o(".js-tab_1").on("click",(function(e){e.preventDefault(),o(".js-tab_1").blur(),o(".js-tab_1").addClass("nav-tab-active"),o(".js-optionsForm").removeClass("is-hidden"),o(".js-tab_2").removeClass("nav-tab-active"),o(".js-userFieldsForm").addClass("is-hidden"),o(".js-tab_3").removeClass("nav-tab-active"),o(".js-postFieldsForm").addClass("is-hidden")})),o(".js-tab_2").on("click",(function(e){e.preventDefault(),o(".js-tab_2").blur(),o(".js-tab_2").addClass("nav-tab-active"),o(".js-userFieldsForm").removeClass("is-hidden"),o(".js-tab_1").removeClass("nav-tab-active"),o(".js-optionsForm").addClass("is-hidden"),o(".js-tab_3").removeClass("nav-tab-active"),o(".js-postFieldsForm").addClass("is-hidden")})),o(".js-tab_3").on("click",(function(e){e.preventDefault(),o(".js-tab_3").blur(),o(".js-tab_3").addClass("nav-tab-active"),o(".js-postFieldsForm").removeClass("is-hidden"),o(".js-tab_1").removeClass("nav-tab-active"),o(".js-optionsForm").addClass("is-hidden"),o(".js-tab_2").removeClass("nav-tab-active"),o(".js-userFieldsForm").addClass("is-hidden")}))})),o(".js-inputCopyOptionToOption").change((function(){o(".js-copyOptionToOption").slideDown(),o(".js-copyOptionToUserField").slideUp(),o(".js-copyOptionToPostField").slideUp()}));var a=function(e){!function(e){var t=e.dataset.index,o=document.querySelector(".js-optionFieldDataRow_".concat(t)),a=document.querySelector(".js-optionFieldInputValue_".concat(t)),i=document.querySelector(".js-optionDateString_".concat(t)),l=document.querySelector(".js-optionEmptyArray_".concat(t));if("checkbox"===e.type){if(e.classList.contains("js-optionEmptyArray_".concat(t))&&(!0===e.checked?(i.checked=!1,a.disabled=!0):!1===e.checked&&(a.disabled=!1)),e.classList.contains("js-optionDateString_".concat(t))){a.disabled=!1,l.checked=!1;var r=document.querySelector(".js-optionFieldInputTimestampBackup_".concat(t)),n=document.querySelector(".js-optionFieldInputStringBackup_".concat(t));if(s(a.value))if(a.value===r.getAttribute("value"))a.value=n.getAttribute("value");else{var c=a.value;r.setAttribute("value",c);var d=parseInt(c,10),u=new Date(d);a.value=u.toUTCString(),n.setAttribute("value",a.value)}else if(null!==a.value)if(a.value===n.getAttribute("value"))a.value=r.getAttribute("value");else{var p=new Date(a.value);if(isNaN(p.valueOf()))alert("Please use a valid string date"),i.checked=!1;else{var v=a.value;n.setAttribute("value",v),a.value=p.valueOf(),r.setAttribute("value",a.value)}}}if(e.classList.contains("js-optionDateStringCurValue_".concat(t))){var j=document.querySelector(".js-optionFieldValue_".concat(t)),m=document.querySelector(".js-optionFieldValueTimestampBackup_".concat(t)),f=document.querySelector(".js-optionFieldValueStringBackup_".concat(t));if(s(j.innerText))if(f.getAttribute("value"))j.innerText=f.getAttribute("value");else{var b=j.innerText;m.setAttribute("value",b);var y=parseInt(j.innerText,10),F=new Date(y);j.innerText=F.toUTCString(),f.setAttribute("value",j.innerText)}else if(m.getAttribute("value"))j.innerText=m.getAttribute("value");else{var _=new Date(j.innerText);if(isNaN(_.valueOf()))alert("Please use a valid string date"),i.checked=!1;else{var h=a.innerText;f.setAttribute("value",h),j.innerText=_.valueOf(),m.setAttribute("value",j.innerText)}}}}"radio"===e.type&&("read"===e.value&&(o.classList.add("-color-white"),o.classList.remove("-color-blue"),o.classList.remove("-color-orange"),a.disabled=!0,i.disabled=!0,l.disabled=!0),"write"===e.value&&(o.classList.add("-color-blue"),o.classList.remove("-color-white"),o.classList.remove("-color-orange"),a.disabled=!1,i.disabled=!1,l.disabled=!1),"delete"===e.value&&(o.classList.add("-color-orange"),o.classList.remove("-color-blue"),o.classList.remove("-color-white"),a.disabled=!0,i.disabled=!0,l.disabled=!0))}(e.target)},i=function(e){!function(e){var t=e.dataset.index,o=document.querySelector(".js-userFieldsFieldDataRow_".concat(t)),a=document.querySelector(".js-userFieldInputValue_".concat(t)),i=document.querySelector(".js-userDateString_".concat(t)),l=document.querySelector(".js-userEmptyArray_".concat(t));if("checkbox"===e.type){if(e.classList.contains("js-userEmptyArray_".concat(t))&&(!0===e.checked?(i.checked=!1,a.disabled=!0):!1===e.checked&&(a.disabled=!1)),e.classList.contains("js-userDateString_".concat(t))){a.disabled=!1,l.checked=!1;var r=document.querySelector(".js-userFieldInputTimestampBackup_".concat(t)),n=document.querySelector(".js-userFieldInputStringBackup_".concat(t));if(s(a.value))if(a.value===r.getAttribute("value"))a.value=n.getAttribute("value");else{var c=a.value;r.setAttribute("value",c);var d=parseInt(c,10),u=new Date(d);a.value=u.toUTCString(),n.setAttribute("value",a.value)}else if(null!==a.value)if(a.value===n.getAttribute("value"))a.value=r.getAttribute("value");else{var p=new Date(a.value);if(isNaN(p.valueOf()))alert("Please use a valid string date"),i.checked=!1;else{var v=a.value;n.setAttribute("value",v),a.value=p.valueOf(),r.setAttribute("value",a.value)}}}if(e.classList.contains("js-userDateStringCurValue_".concat(t))){var j=document.querySelector(".js-userFieldValue_".concat(t)),m=document.querySelector(".js-userFieldValueTimestampBackup_".concat(t)),f=document.querySelector(".js-userFieldValueStringBackup_".concat(t));if(s(j.innerText))if(f.getAttribute("value"))j.innerText=f.getAttribute("value");else{var b=j.innerText;m.setAttribute("value",b);var y=parseInt(j.innerText,10),F=new Date(y);j.innerText=F.toUTCString(),f.setAttribute("value",j.innerText)}else if(m.getAttribute("value"))j.innerText=m.getAttribute("value");else{var _=new Date(j.innerText);if(isNaN(_.valueOf()))alert("Please use a valid string date"),i.checked=!1;else{var h=a.innerText;f.setAttribute("value",h),j.innerText=_.valueOf(),m.setAttribute("value",j.innerText)}}}}"radio"===e.type&&("read"===e.value&&(o.classList.add("-color-white"),o.classList.remove("-color-blue"),o.classList.remove("-color-orange"),a.disabled=!0,i.disabled=!0,l.disabled=!0),"write"===e.value&&(o.classList.add("-color-blue"),o.classList.remove("-color-white"),o.classList.remove("-color-orange"),a.disabled=!1,i.disabled=!1,l.disabled=!1),"delete"===e.value&&(o.classList.add("-color-orange"),o.classList.remove("-color-blue"),o.classList.remove("-color-white"),a.disabled=!0,i.disabled=!0,l.disabled=!0))}(e.target)},l=function(e){!function(e){var t=e.dataset.index,o=document.querySelector(".js-postFieldsFieldDataRow_".concat(t)),a=document.querySelector(".js-postFieldInputValue_".concat(t)),i=document.querySelector(".js-postDateString_".concat(t)),l=document.querySelector(".js-postEmptyArray_".concat(t));if("checkbox"===e.type){if(e.classList.contains("js-postEmptyArray_".concat(t))&&(!0===e.checked?(i.checked=!1,a.disabled=!0):!1===e.checked&&(a.disabled=!1)),e.classList.contains("js-postDateString_".concat(t))){a.disabled=!1,l.checked=!1;var r=document.querySelector(".js-postFieldInputTimestampBackup_".concat(t)),n=document.querySelector(".js-postFieldInputStringBackup_".concat(t));if(s(a.value))if(a.value===r.getAttribute("value"))a.value=n.getAttribute("value");else{var c=a.value;r.setAttribute("value",c);var d=parseInt(c,10),u=new Date(d);a.value=u.toUTCString(),n.setAttribute("value",a.value)}else if(null!==a.value)if(a.value===n.getAttribute("value"))a.value=r.getAttribute("value");else{var p=new Date(a.value);if(isNaN(p.valueOf()))alert("Please use a valid string date"),i.checked=!1;else{var v=a.value;n.setAttribute("value",v),a.value=p.valueOf(),r.setAttribute("value",a.value)}}}if(e.classList.contains("js-postDateStringCurValue_".concat(t))){var j=document.querySelector(".js-postFieldValue_".concat(t)),m=document.querySelector(".js-postFieldValueTimestampBackup_".concat(t)),f=document.querySelector(".js-postFieldValueStringBackup_".concat(t));if(s(j.innerText))if(f.getAttribute("value"))j.innerText=f.getAttribute("value");else{var b=j.innerText;m.setAttribute("value",b);var y=parseInt(j.innerText,10),F=new Date(y);j.innerText=F.toUTCString(),f.setAttribute("value",j.innerText)}else if(m.getAttribute("value"))j.innerText=m.getAttribute("value");else{var _=new Date(j.innerText);if(isNaN(_.valueOf()))alert("Please use a valid string date"),i.checked=!1;else{var h=a.innerText;f.setAttribute("value",h),j.innerText=_.valueOf(),m.setAttribute("value",j.innerText)}}}}"radio"===e.type&&("read"===e.value&&(o.classList.add("-color-white"),o.classList.remove("-color-blue"),o.classList.remove("-color-orange"),a.disabled=!0,i.disabled=!0,l.disabled=!0),"write"===e.value&&(o.classList.add("-color-blue"),o.classList.remove("-color-white"),o.classList.remove("-color-orange"),a.disabled=!1,i.disabled=!1,l.disabled=!1),"delete"===e.value&&(o.classList.add("-color-orange"),o.classList.remove("-color-blue"),o.classList.remove("-color-white"),a.disabled=!0,i.disabled=!0,l.disabled=!0))}(e.target)};window.addEventListener("load",(function(e){document.querySelector(".js-optionsMetaSection").addEventListener("change",a,!1),document.querySelector(".js-userFieldsSection").addEventListener("change",i,!1),document.querySelector(".js-postFieldsSection").addEventListener("change",l,!1),document.querySelector(".js-optionsMetaSection").addEventListener("change",a,!1)}),!1)}]);